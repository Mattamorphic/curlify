(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(26).concat([function(e,t,a){e.exports=a(87)},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n,r,s,o,l,i,c,u=a(1),d=a(2),m=a(4),p=a(3),h=a(5);a(28);!function(e){e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT"}(n||(n={})),function(e){e["A-IM"]="A-IM",e.Accept="Accept",e["Accept-Charset"]="Accept-Charset",e["Accept-Datetime"]="Accept-Datetime",e["Accept-Encoding"]="Accept-Encoding",e["Accept-Language"]="Accept-Language",e["Access-Control-Request-Method"]="Access-Control-Request-Method",e["Access-Control-Request-Headers"]="Access-Control-Request-Headers",e.Authorization="Authorization",e.Authentication="Authentication",e["Cache-Control"]="Cache-Control",e["Content-Length"]="Content-Length",e["Content-MD5"]="Content-MD5",e["Content-Type"]="Content-Type",e.Cookie="Cookie",e.Date="Date",e.Expect="Expect",e.Forwarded="Forwarded",e.From="From",e.Host="Host",e["HTTP2-Settings"]="HTTP2-Settings",e["If-Match"]="If-Match",e["If-Modified-Since"]="If-Modified-Since",e["If-None-Match"]="If-None-Match",e["If-Range"]="If-Range",e["If-Unmodified-Since"]="If-Unmodified-Since",e["Max-Forwards"]="Max-Forwards",e.Pragma="Pragma",e["Proxy-Authorization"]="Proxy-Authorization",e.Range="Range",e.Referer="Referer",e.TE="TE",e.Upgrade="Upgrade",e["User-Agent"]="User-Agent",e.Via="Via",e.Warning="Warning"}(r||(r={})),function(e){e.FORM="form",e.JSON="json",e.GQL="graphQL"}(s||(s={})),function(e){e.CURL="curl"}(o||(o={})),function(e){e.BUTTON="button",e.CHECKBOX="checkbox",e.COLOR="color",e.DATE="date",e.DATETIME_LOCAL="datetime-local",e.EMAIL="email",e.FILE="file",e.HIDDEN="hidden",e.IMAGE="image",e.MONTH="month",e.NUMBER="number",e.PASSWORD="password",e.RADIO="radio",e.RANGE="range",e.RESET="reset",e.SEARCH="search",e.SUBMIT="submit",e.TEL="tel",e.TEXT="text",e.TIME="time",e.URL="url",e.WEEK="week"}(l||(l={})),function(e){e.ONE="one column",e.TWO="two columns",e.THREE="three columns",e.FOUR="four columns",e.FIVE="five columns",e.SIX="six columns",e.SEVEN="seven columns",e.EIGHT="eight columns",e.NINE="nine columns",e.TEN="ten columns",e.ELEVEN="eleven columns",e.TWELVE="twelve columns"}(i||(i={})),function(e){e.NUMBER="number",e.DATE="date",e.BOOLEAN="boolean",e.URL="url",e.STRING="string"}(c||(c={}));var f,g=a(88),E=function(e){return![n.GET,n.HEAD].includes(e)},v="https://curlify-proxy.herokuapp.com/",y={curlData:/(?:-d\s{0,}'|")({.*})(?=['|"])/gim,curlHeader:/(?:-H ")([\w\d]{1,})(?:\s{0,}:\s{0,})(.+?)(?=")/gim,curlMethod:/(?:-X\s{0,})(\w{3,6})/gim,dateTimeZoneChars:/[T|Z]/gim,jsonData:/^( *)("[^"]+": )?("[^"].*"|[\w.+-]*)?([{}[\],]*)?$/gm,multipleSpaces:/ +/gm,newLine:/[\r|\n]/gm,newLineAndTab:/[\n|\r|\t]/gm,queryParams:/(\?.*)/g,quotes:/["']/gim,singleEscapedNewLine:/(\\n)/gm,url:/^((?:http(?:s)?:\/\/)+[\w.-]+(?:.[\w.-]+))+([\w-._~:\/?#[\]@!$&'()*+,;=.]+)$/gim},N=function(e){return Object.values(n).includes(e)},w=function(e,t){var a=e+("/"!==e.charAt(e.length-1)&&"/"!==t.charAt(0)?"/":"")+t,n=a.match(y.url);return!(!n||n[0]!==a)},b=function(e){return e.reduce(function(e,t){return null!==t.key&&void 0!==t.key&&"string"===typeof t.key&&""!==t.key},!0)},C=function(e){try{return Object(g.a)(e),!0}catch(t){return!1}},S=function(e){return!isNaN(parseInt(e))},O=function(e){return!isNaN(Date.parse(e.replace(y.dateTimeZoneChars," ")))},k=function(e){return["true","false","null","nil","undefined"].includes(e.toLowerCase())},T=function(e){return!!e.replace(y.quotes,"").match(y.url)},P=function(){var e;try{e=window.localStorage;var t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(a){return!1}},D=function(e,t,a){var n=window.localStorage;if(n.length+1===20){for(var r=[],s=0;s<n.length;s++){var o=n.key(s);o&&r.push(o)}var l=r.sort().shift();l&&n.removeItem(l)}var i=(new Date).getTime().toString(),c=JSON.stringify({config:e,data:t,id:i,status:a});return n.setItem(i,c),i},j=function(){if(!P())return[];for(var e=[],t=window.localStorage,a=0;a<t.length;a++){var n=t.key(a);if(!n)break;var r=t.getItem(n);if(!r)break;try{e.push(JSON.parse(r))}catch(s){t.removeItem(n)}}return e.sort(function(e,t){var a=parseInt(e.id),n=parseInt(t.id);return a>n?-1:a<n?1:0})},x=function(){window.localStorage.clear()},R=function(e){var t=new URL(e),a=Object.fromEntries(new URLSearchParams(t.search)),n=t.pathname;return"?"===e.charAt(e.length-1)&&""===t.search&&(n+="?"),{domain:t.origin,endpoint:n,queryParams:Object.keys(a).map(function(e){return{key:e,value:a[e]}}),rawUrl:t.href}},L=function(e){return 0===e.length?"":"?"+e.map(function(e){return e.key+(null===(t=e.value)||void 0===t||""===t?"":"="+e.value);var t}).join("&")},H=(a(29),a(0)),U=a.n(H),I=function(e){return U.a.createElement("div",{className:"Heading"},U.a.createElement("img",{alt:"curlify logo",src:e.imageSrc}))},A=(a(31),a(32),a(9)),q=a.n(A),F=a(12),M=(a(34),function(e){return U.a.createElement("button",{className:(e.isPrimary?"button-primary ":" ")+e.className||" ",disabled:e.isDisabled,id:e.id,onClick:e.onClickRaw||function(t){t.preventDefault(),e.onClick(e.clickValue,e.name)}},e.children||e.label||"")}),J=a(7),Q=a(8),_=(a(40),function(e){return U.a.createElement("div",{className:"Tooltip"},U.a.createElement("span",{className:"TooltipText"},e.text),e.children)}),G=function(e){var t=function(){var t=Object(F.a)(q.a.mark(function t(){return q.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.clipboard.writeText(e.content);case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return e.useDiv?U.a.createElement(_,{text:e.tooltip||"Copy"},U.a.createElement("div",{className:(e.className||"")+" Copy",onClick:t},!e.noIcon&&U.a.createElement(Q.a,{icon:J.c,size:"lg"}),e.children)):U.a.createElement(_,{text:e.tooltip||"Copy"},U.a.createElement(M,{className:(e.className||"")+" Copy",isPrimary:!1,onClick:t},!e.noIcon&&U.a.createElement(Q.a,{icon:J.c,size:"lg"}),e.children))},z=a(22),W=(a(42),a(23)),V=function(e){return U.a.createElement(W.CSSTransitionGroup,{transitionEnter:!0,transitionEnterTimeout:500,transitionLeave:!1,transitionName:"save-notice"},U.a.createElement("div",{key:"notice-"+e.isSaved,className:(e.isSaved?"Saved":"NotSaved")+" SavingNotice "+(e.className||"")},U.a.createElement(Q.a,{icon:J.g,size:"lg"})))},B=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onUpdate=function(e){a.props.onChangeDirect?a.props.onChangeDirect(e):a.props.onUpdate&&a.props.onUpdate(e.target.value)},a.state={},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement("textarea",{className:(this.props.isFullWidth?"u-full-width ":" ")+this.props.className||"",onChange:this.onUpdate,style:this.props.style||{},value:this.props.value})}}]),t}(U.a.Component),X=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).serializerCurl=function(e){var t=a.props.config,r=a.props.data,o=!1,l=!1,i=a.getMethod(e),c=a.getHeaders(e),u=a.getData(e),d=a.parseUrl(e);if(i&&i!==t.method&&Object.values(n).includes(i)&&(o=!0,t.method=i),c&&(o=!0,t.headers=c),u&&JSON.stringify(u)!==JSON.stringify(r.data[r.type]))switch(l=!0,r.type){case s.GQL:r.data.graphQL.query=u.query;break;case s.JSON:r.data.json=u;break;case s.FORM:}return d&&(d.domain&&d.domain!==t.domain&&(o=!0,t.domain=d.domain),d.endpoint&&d.endpoint!==t.endpoint&&(o=!0,t.endpoint=d.endpoint),d.queryParams&&JSON.stringify(d.queryParams)!==JSON.stringify(t.queryParams)&&(o=!0,t.queryParams=d.queryParams),d.rawUrl!==t.urlString&&(o=!0,t.urlString=d.rawUrl)),{config:t,data:r,hasNewConfig:o,hasNewData:l}},a.updateCurl=function(e){a.setState({draft:e,hasDraft:!0},Object(z.debounce)(function(){var e=a.serializerCurl(a.state.draft);(e.hasNewData||e.hasNewConfig)&&a.setState({hasDraft:!1},function(){e.hasNewData&&a.props.updateData(e.data),e.hasNewConfig&&a.props.updateConfig(e.config)})},300))},a.state={draft:t.getValue(e.config,e.data),hasDraft:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"getHeaders",value:function(e){for(var t=y.curlHeader,a=[],n=null;n=t.exec(e);)a.push({key:n[1],value:n[2]});return 0===a.length?null:a}},{key:"getMethod",value:function(e){var t=y.curlMethod;if(!e.match(t))return null;var a=t.exec(e);return a?a[1]:null}},{key:"getData",value:function(e){var t=y.curlData;if(!e.match(t))return null;var a=t.exec(e);if(!a)return null;try{return JSON.parse(a[1])}catch(n){return null}}},{key:"parseUrl",value:function(e){var t=y.url;if(!e.match(t))return null;var a=t.exec(e);return a?R(a[0]):null}},{key:"render",value:function(){var e=this.state.hasDraft?this.state.draft:t.getValue(this.props.config,this.props.data);return U.a.createElement("div",{className:"Curl"},U.a.createElement("div",{className:"row"},U.a.createElement(B,{isFullWidth:!0,onUpdate:this.updateCurl,style:{background:"url('".concat("/curlify","/images/textarea.png')"),backgroundAttachment:"local",backgroundColor:"#19404A",backgroundRepeat:"no-repeat",color:"#EEE8D5"},value:e})),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"two columns"},U.a.createElement(V,{className:"u-full-width",isSaved:!this.state.hasDraft})),U.a.createElement("div",{className:"six columns"},U.a.createElement("div",{className:"u-full-width"})),U.a.createElement("div",{className:"four columns"},U.a.createElement(G,{className:"u-full-width",content:e}))))}}],[{key:"getValue",value:function(e,a){var n={};switch(a.type){case s.JSON:n=a.data.json;break;case s.GQL:n=a.data.graphQL;break;case s.FORM:}return"curl -X ".concat(e.method," \\","\n")+"".concat(e.headers.map(function(e){return'-H "'.concat(e.key,": ").concat(e.value,'" \\',"\n")}).join(""))+"".concat(n&&Object.keys(n).length>0&&E(e.method)?"-d '".concat(t.parsePayloadString(JSON.stringify(n)),"' \\","\n"):"")+"".concat(e.urlString)}},{key:"parsePayloadString",value:function(e){return e.replace(y.newLineAndTab,"").replace(y.multipleSpaces," ").replace(y.singleEscapedNewLine,"")}}]),t}(U.a.Component),$=(a(56),function(e){var t=e.selected||"";return U.a.createElement(U.a.Fragment,null,e.label&&U.a.createElement("label",null,e.label),U.a.createElement("select",{className:e.className||"",disabled:e.isDisabled||!1,id:e.id||"",multiple:e.isMultiple||!1,name:e.name||"",onChange:function(t){e.onChange(t.target.value,e.name)},size:e.size||0,style:e.style||{},value:t},U.a.createElement("option",{value:"",disabled:!0},e.placeholder||"Please Select"),e.values.map(function(e,t){return U.a.createElement("option",{key:"".concat(e,"_").concat(t),value:e},e)})))}),K=function(e){return U.a.createElement($,{className:(e.className||"")+" Selector",onChange:function(t){e.onUpdate(t)},selected:e.selected,values:Object.values(o)})},Z=function(e){return U.a.createElement("div",{className:(e.className||"")+" Output"},U.a.createElement("div",{className:"row OutputHeading"},U.a.createElement("h4",null," Request Config: ",e.output.toUpperCase()," ")),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"twelve columns"},e.output===o.CURL&&U.a.createElement(X,{config:e.config,data:e.data,updateConfig:e.updateConfig,updateData:e.updateData}))),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"twelve columns"},U.a.createElement(K,{className:"u-full-width",onUpdate:function(e){},selected:e.output}))))},Y=(a(57),a(58),a(59),function(e){return U.a.createElement(U.a.Fragment,null,e.label&&U.a.createElement("label",null,e.label),U.a.createElement("input",{checked:e.isChecked,className:e.className||"",disabled:e.isDisabled,id:e.id||"",name:e.name||"",onChange:function(t){return e.onChangeRaw?e.onChangeRaw(t):e.onChange?e.onChange(t.target.value,e.name):void 0},placeholder:e.placeholder||"",type:e.type||l.TEXT,value:e.value||""}))}),ee=function(e){return U.a.createElement(_,{text:"Domain"},U.a.createElement(Y,{className:(e.isFullWidth?"u-full-width":"")+" Domain",onChange:e.onUpdate,type:l.URL,value:e.value}))},te=(a(60),function(e){return U.a.createElement(_,{text:"Endpoint"},U.a.createElement(Y,{className:(e.isFullWidth?"u-full-width":"")+" Endpoint",onChange:e.onUpdate,value:e.value}))}),ae=function(e){var t=function(t){var a=R(t);e.onUpdate(a.domain,a.endpoint,a.queryParams,a.rawUrl)};return U.a.createElement("div",{className:e.width+" Destination"},U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"six columns"},U.a.createElement(ee,{isFullWidth:!0,onUpdate:function(a){t(a+e.endpoint+L(e.queryParams))},value:e.domain})),U.a.createElement("div",{className:"six columns"},U.a.createElement(te,{isFullWidth:!0,onUpdate:function(a){t(e.domain+a+L(e.queryParams))},value:e.endpoint}))))},ne=(a(61),a(62),function(e){return e.heading?U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"row Toggler"},U.a.createElement("div",{className:"five columns"},U.a.createElement("h4",{className:"u-pull-left"}," ",e.heading," ")),U.a.createElement("div",{className:"six columns"},U.a.createElement("span",{className:"TogglerPreview"},e.isToggled?U.a.createElement("span",null,"\xa0"):e.collapsedData||U.a.createElement("span",null,"\xa0"))),U.a.createElement("div",{className:"one column"},U.a.createElement(M,{className:"u-full-width",isPrimary:!1,onClick:e.onToggle},U.a.createElement(_,{text:e.tooltip||"show/hide"},"string"===typeof e.label?e.isToggled?U.a.createElement(Q.a,{icon:J.b,size:"lg"}):U.a.createElement(Q.a,{icon:J.a,size:"lg"}):e.label)))),U.a.createElement("div",{className:"row"},e.isToggled&&U.a.createElement("div",{className:e.className||""},U.a.createElement("div",{className:"row"},e.children)))):U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"row"},U.a.createElement(M,{className:"u-full-width",isPrimary:!1,onClick:e.onToggle},U.a.createElement(_,{text:e.tooltip||"show/hide"},"string"===typeof e.label?e.isToggled?U.a.createElement(Q.a,{icon:J.b,size:"lg"}):U.a.createElement(Q.a,{icon:J.a,size:"lg"}):e.label)),!e.isToggled&&e.collapsedData),e.isToggled&&U.a.createElement("div",{className:e.className||""},U.a.createElement("div",{className:"row"},e.children)))}),re=(a(63),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){var t=e.currentTarget.value,n=[t].concat(a.props.suggestions.filter(function(e){e=e.toLowerCase();var a=t.toLowerCase();return e.indexOf(a)>-1&&e!==a}));a.setState({filteredSuggestions:n,showSuggestions:!0,userInput:t})},a.onSuggestionMouseDown=function(e){e.stopPropagation();var t=e.currentTarget.innerText;a.setState({userInput:t},function(){return a.props.onSelectSuggestion(t,a.props.name)})},a.onBlur=function(e){e.preventDefault();var t=e.currentTarget.value;a.setState({userInput:t},function(){return a.props.onSelectSuggestion(t,a.props.name)})},a.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.selected},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return U.a.createElement("div",{className:(this.props.className||"")+" Autocomplete"},U.a.createElement("input",{onChange:this.onChange,onBlur:this.onBlur,placeholder:this.props.placeholder||"",type:"text",value:this.state.userInput}),U.a.createElement("div",{className:"AutocompleteList"},this.state.showSuggestions&&this.state.userInput&&U.a.createElement("div",{className:"AutocompleteResults"},this.state.filteredSuggestions.length&&U.a.createElement("ul",{className:"AutocompleteResultsList"},this.state.filteredSuggestions.map(function(t,a){return U.a.createElement("li",{key:a+"_"+t,onMouseDown:e.onSuggestionMouseDown},t)})))))}}]),t}(U.a.PureComponent)),se=function(e){var t=function(t){e.onAddEntry()},a=function(t,a){var n=(a||"").split("_").pop();if(!n)throw new Error("Invalid name");var r=parseInt(n);e.onRemoveEntry(r)},n=function(t,a){var n=(a||"").split("_").pop();if(!n)throw new Error("Invalid name");!function(t,a){var n=parseInt(a),r=e.selected[n];r.key=t,e.onUpdateEntry(r,n)}(t,n)},r=function(t,a){var n=(a||"").split("_").pop();if(!n)throw new Error("Invalid name");!function(t,a){var n=parseInt(a),r=e.selected[n];r.value=t,e.onUpdateEntry(r,n)}(t,n)};return 0===e.selected.length?U.a.createElement("div",{className:"row"},U.a.createElement(_,{text:"Add a header"},U.a.createElement(M,{className:"u-full-width",isPrimary:!1,onClick:t},U.a.createElement(Q.a,{icon:J.f,size:"lg"})))):U.a.createElement("div",{className:e.className||""},e.selected.map(function(s,o){return U.a.createElement("div",{className:"row",key:e.id+"_"+o+"_row"},U.a.createElement("div",{className:"two columns"},U.a.createElement(_,{text:"Remove this header"},U.a.createElement(M,{className:"u-full-width",name:"remove_".concat(e.id,"_").concat(o),isPrimary:!1,onClick:a},U.a.createElement(Q.a,{icon:J.e,size:"lg"})))),U.a.createElement("div",{className:"four columns"},"TEXT"===e.keyInput.type&&U.a.createElement(Y,{name:s.key+"_"+o,onChange:n,placeholder:e.keyInput.placeholder||"",value:s.key}),"AUTOCOMPLETE"===e.keyInput.type&&U.a.createElement(re,{name:s.key+"_"+o,placeholder:e.keyInput.placeholder||"",selected:s.key,suggestions:e.keyInput.values||[],onSelectSuggestion:n}),"SELECT"===e.keyInput.type&&U.a.createElement($,{name:s.key+"_"+o,onChange:n,placeholder:e.keyInput.placeholder||"",selected:s.key,values:e.keyInput.values||[]})),U.a.createElement("div",{className:"four columns"},"TEXT"===e.valueInput.type&&U.a.createElement(Y,{name:s.value+"_"+o,onChange:r,placeholder:e.valueInput.placeholder||"",value:s.value}),"AUTOCOMPLETE"===e.valueInput.type&&U.a.createElement(re,{name:s.value+"_"+o,placeholder:e.valueInput.placeholder||"",selected:s.value,suggestions:e.keyInput.values||[],onSelectSuggestion:r}),"SELECT"===e.valueInput.type&&U.a.createElement($,{name:s.value+"_"+o,onChange:r,placeholder:e.valueInput.placeholder||"",selected:s.value,values:e.keyInput.values||[]})),U.a.createElement("div",{className:"two columns"},U.a.createElement(_,{text:"Add a new header"},U.a.createElement(M,{className:"u-full-width",isPrimary:!1,onClick:t},U.a.createElement(Q.a,{icon:J.f,size:"lg"})))))}))},oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleHeaders=function(){a.setState(function(e){return{showHeaders:!e.showHeaders}})},a.addHeader=function(){a.props.onUpdate({key:"",value:""},a.props.selected.length)},a.state={showHeaders:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.selected.map(function(e){return e.key}),t=Object.values(r).filter(function(t){return!e.includes(t)});return U.a.createElement(ne,{collapsedData:U.a.createElement("em",null,this.props.selected.map(function(e){return e.key}).join(", "),"\xa0"),heading:"HTTP Headers",label:"HTTP Headers",onToggle:this.toggleHeaders,isToggled:this.state.showHeaders,tooltip:"Configure HTTP Headers"},U.a.createElement(se,{className:"Headers",id:"HTTPHeaders",keyInput:{placeholder:"Enter HTTP Header",type:"AUTOCOMPLETE",values:t},valueInput:{placeholder:"Enter Value",type:"TEXT"},selected:this.props.selected,onAddEntry:this.addHeader,onUpdateEntry:this.props.onUpdate,onRemoveEntry:this.props.onRemove}))}}]),t}(U.a.PureComponent),le=(a(64),function(e){return U.a.createElement("div",{className:e.width},U.a.createElement(_,{text:"Method"},U.a.createElement($,{className:"u-full-width Method",onChange:function(t){e.onUpdate(t)},selected:e.selected,values:Object.values(n)})))}),ie=(a(65),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).addQueryParam=function(){a.props.onUpdate({key:"",value:""},a.props.selected.length)},a.toggleQueryParams=function(){a.setState(function(e){return{showQueryParams:!e.showQueryParams}})},a.state={showQueryParams:Object.keys(a.props.selected).length>0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement(ne,{collapsedData:U.a.createElement("em",null,this.props.selected.map(function(e){return e.key}).join(", "),"\xa0"),heading:"Query Parameters",label:"Query Parameter",onToggle:this.toggleQueryParams,isToggled:this.state.showQueryParams,tooltip:"Configure query parameters"},U.a.createElement(se,{className:"QueryParams",id:"QueryParameters",keyInput:{placeholder:"Enter QueryParameter",type:"TEXT"},valueInput:{placeholder:"Enter Value",type:"TEXT"},selected:this.props.selected,onAddEntry:this.addQueryParam,onUpdateEntry:this.props.onUpdate,onRemoveEntry:this.props.onRemove}))}}]),t}(U.a.PureComponent)),ce=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleConfigSettings=function(){a.setState(function(e){return{showConfigSettings:!e.showConfigSettings}})},a.updateDestination=function(e,t,n,r){var s=a.props.data;s.domain=e,s.endpoint=t,s.queryParams=n,s.urlString=r,a.props.updateConfig(s)},a.updateHeaders=function(e,t){var n=a.props.data;!n.headers[t]&&e?n.headers.push(e):n.headers[t]=e,a.props.updateConfig(n)},a.removeHeader=function(e){var t=a.props.data;delete t.headers[e],t.headers=t.headers.filter(function(e){return e}),a.props.updateConfig(t)},a.updateMethod=function(e){var t=a.props.data;t.method=e,a.props.updateConfig(t)},a.updateQueryParams=function(e,t){var n=a.props.data;!n.queryParams[t]&&e?n.queryParams.push(e):n.queryParams[t]=e,n.urlString=n.domain+n.endpoint+L(n.queryParams),a.props.updateConfig(n)},a.removeQueryParameter=function(e){var t=a.props.data;delete t.queryParams[e],t.queryParams=t.queryParams.filter(function(e){return e}),t.urlString=t.domain+t.endpoint+L(t.queryParams),a.props.updateConfig(t)},a.state={showConfigSettings:!0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.data.domain+this.props.data.endpoint;return U.a.createElement(U.a.Fragment,null,U.a.createElement(ne,{className:"Config",collapsedData:U.a.createElement(U.a.Fragment,null,"Sending a [",U.a.createElement("strong",null,this.props.data.method),"] request to: [",U.a.createElement("strong",null,U.a.createElement("a",{href:e},e)),"]",this.props.data.headers.length>0&&U.a.createElement(U.a.Fragment,null,", with the HTTP Headers:"," ",this.props.data.headers.map(function(e){return U.a.createElement("span",{key:e.key+"_snip"},U.a.createElement("br",null),U.a.createElement("strong",null,e.key),": ",U.a.createElement("em",null,e.value))}))),isToggled:this.state.showConfigSettings,heading:"Request Config Settings",label:"Config Settings",tooltip:"Toggle request config",onToggle:this.toggleConfigSettings},U.a.createElement("div",{className:"row"},U.a.createElement(le,{onUpdate:this.updateMethod,selected:this.props.data.method,width:i.TWO}),U.a.createElement(ae,{domain:this.props.data.domain,endpoint:this.props.data.endpoint,queryParams:this.props.data.queryParams,onUpdate:this.updateDestination,width:i.TEN})),U.a.createElement("div",{className:"row"},U.a.createElement(ie,{onUpdate:this.updateQueryParams,onRemove:this.removeQueryParameter,selected:this.props.data.queryParams})),U.a.createElement("div",{className:"row"},U.a.createElement(oe,{onRemove:this.removeHeader,onUpdate:this.updateHeaders,selected:this.props.data.headers,width:i.TWELVE}))))}}]),t}(U.a.PureComponent),ue=(a(66),a(67),a(68),function(e){return U.a.createElement($,{className:(e.className||"")+" Type",onChange:function(t){e.onUpdate(t)},selected:e.selected,values:Object.values(f)})}),de=a(89);!function(e){e.QUERY="query",e.MUTATION="mutation"}(f||(f={}));var me=function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateGraphQL=function(e){var n=e.target.value;try{t.getDocAndTypeFromGQLString(n).gql!==a.state.draft?(a.props.onUpdateData({query:n}),a.setState({isSaved:!0})):a.setState({draft:n,isSaved:!1})}catch(r){a.setState({draft:n,isSaved:!1})}},a.updateType=function(e){a.props.onUpdateData({query:e+" "+a.state.draft.replace(a.state.type,"")})},a.pretty=function(){a.props.onUpdateData({query:a.state.type+" "+t.PrettyMe(a.state.draft).replace(a.state.type,"")})};var n=t.getDocAndTypeFromGQLString(e.data.query);return a.state={draft:n.gql,isSaved:!0,type:n.type},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement("div",{className:"GraphQL"},U.a.createElement("div",{className:"row"},U.a.createElement(B,{isFullWidth:!0,onChangeDirect:this.updateGraphQL,style:{background:"url('".concat("/curlify","/images/textarea.png')"),backgroundAttachment:"local",backgroundColor:"#19404A",backgroundRepeat:"no-repeat",color:"#EEE8D5"},value:this.state.draft})),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"two columns"},U.a.createElement(V,{isSaved:this.state.isSaved})),U.a.createElement("div",{className:"two columns"},U.a.createElement(ue,{className:"u-full-width",onUpdate:this.updateType,selected:this.state.type})),U.a.createElement("div",{className:"two columns"},U.a.createElement(_,{text:"Pretty payload"},U.a.createElement(M,{className:"u-full-width GraphQLPretty",isDisabled:!this.state.isSaved,isPrimary:!1,onClick:this.pretty},U.a.createElement(Q.a,{icon:J.d,size:"lg"})))),U.a.createElement("div",{className:"two columns"},U.a.createElement(G,{className:"u-pull-right",content:t.PrettyMe(this.state.draft)}))))}}],[{key:"getDocAndTypeFromGQLString",value:function(e){var t=Object(g.a)(e),a=t.definitions[0].operation;return{gql:Object(de.a)(t),type:a}}},{key:"getDerivedStateFromProps",value:function(e,a){if(e.data.query!==a.draft&&!a.isSaved)return a;try{var n=t.getDocAndTypeFromGQLString(e.data.query);return{draft:e.data.query,isSaved:!0,type:n.type}}catch(r){return a}}},{key:"PrettyMe",value:function(e){try{return Object(de.a)(Object(g.a)(e))}catch(t){return e}}}]),t}(U.a.PureComponent),pe=(a(69),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateJson=function(e){a.setState({draft:e,hasDraft:!0});try{var t=JSON.parse(e);a.props.onUpdateData(t)}catch(n){}},a.pretty=function(){try{a.setState({draft:JSON.stringify(JSON.parse(a.state.draft),null,2),hasDraft:!0})}catch(e){return}},a.state={draft:JSON.stringify(e.data,null,2),hasDraft:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement("div",{className:"Json"},U.a.createElement("div",{className:"row"},U.a.createElement(B,{isFullWidth:!0,onUpdate:this.updateJson,style:{background:"url('".concat("/curlify","/images/textarea.png')"),backgroundAttachment:"local",backgroundColor:"#19404A",backgroundRepeat:"no-repeat",color:"#EEE8D5"},value:this.state.draft})),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"two columns"},U.a.createElement(V,{className:"u-full-width",isSaved:!this.state.hasDraft})),U.a.createElement("div",{className:"four columns"},U.a.createElement(_,{text:"Pretty payload"},U.a.createElement(M,{className:"u-full-width JsonPretty",isDisabled:this.state.hasDraft,isPrimary:!1,onClick:this.pretty},U.a.createElement(Q.a,{icon:J.d,size:"lg"})))),U.a.createElement("div",{className:"four columns"},U.a.createElement(G,{className:"u-full-width",content:this.state.draft}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.draft,n=t.hasDraft;if(t.hasDraft||JSON.stringify(e.data)===JSON.stringify(JSON.parse(t.draft)))try{JSON.parse(a),n=!1}catch(r){}else a=JSON.stringify(e.data,null,2),n=!1;return{draft:a,hasDraft:n}}}]),t}(U.a.PureComponent)),he=(a(70),function(e){return U.a.createElement($,{className:(e.className||"")+" Selector",onChange:function(t){e.onUpdate(t)},selected:e.selected,values:Object.values(s)})}),fe=function(e){return U.a.createElement("div",{className:(e.className||"")+" Data"},U.a.createElement("div",{className:"row DataHeading"},U.a.createElement("h4",null," Request Data: ",e.data.type.toUpperCase()," ")),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"twelve columns"},e.data.type===s.JSON&&U.a.createElement(pe,{data:e.data.data.json,onUpdateData:function(t){var a=e.data;a.data.json=t,e.updateData(a)}}),e.data.type===s.GQL&&U.a.createElement(me,{data:e.data.data.graphQL,onUpdateData:function(t){var a=e.data;a.data.graphQL=t,e.updateData(a)}}))),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"twelve columns"},U.a.createElement(he,{className:"u-full-width",onUpdate:function(t){var a=e.data;a.type=t,e.updateData(a)},selected:e.data.type}))))},ge=(a(71),function(e){return U.a.createElement(M,{isPrimary:!1,onClick:e.clear},U.a.createElement(_,{text:"Clear history"},U.a.createElement(Q.a,{icon:J.h,size:"lg"})))}),Ee=(a(72),a(73),a(74),function(e){return U.a.createElement(M,{className:e.className,isPrimary:!1,onClick:function(){e.updateConfig(e.config),e.updateData(e.data)}},U.a.createElement(Q.a,{icon:J.i,size:"lg"}))}),ve=function(e){var t=e.config.domain+e.config.endpoint,a="success";return e.status>200&&(a=e.status<400?"redirect":e.status<500?"client":"server"),U.a.createElement("div",{className:(e.className||"")+" ListHistoryEntry"},U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"two columns"},U.a.createElement(_,{text:"Status code"},U.a.createElement("div",{className:a+" u-full-width ListHistoryEntryStatus"},e.status))),U.a.createElement("div",{className:"two columns"},U.a.createElement(_,{text:"Request method"},U.a.createElement("div",{className:e.config.method.toLowerCase()+" u-full-width ListHistoryEntryMethod"},e.config.method))),U.a.createElement("div",{className:"two columns"},U.a.createElement("div",{className:e.config.method.toLowerCase()+" u-full-width ListHistoryEntryID"},U.a.createElement(G,{content:e.id,noIcon:!0,tooltip:"Copy Timestamp / ID",useDiv:!0},e.id))),U.a.createElement("div",{className:"four columns"},U.a.createElement(G,{content:t,noIcon:!0,tooltip:"Copy URL",useDiv:!0},U.a.createElement("div",{className:"u-full-width ListHistoryEntryDest"},t))),U.a.createElement("div",{className:"two columns ListHistoryEntryAction"},U.a.createElement(_,{text:"Load entry"},U.a.createElement(Ee,{className:"u-full-width",config:e.config,data:e.data,updateConfig:e.updateConfig,updateData:e.updateData})))))},ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateFilter=function(e){a.setState({filter:e})},a.state={filter:null},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.history.filter(function(t){return JSON.stringify(t).includes(e.state.filter||"")});return U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"row"},U.a.createElement(Y,{className:"u-full-width ListHistoryFilter",isDisabled:0===this.props.history.length,onChange:this.updateFilter,placeholder:"Filter...",value:this.state.filter||""})),U.a.createElement("div",{className:"ListHistory"},t.map(function(t,a){return U.a.createElement(ve,{className:a%2===0?"dark":"light",config:t.config,data:t.data,id:t.id,key:t.id,status:t.status,updateConfig:e.props.updateConfig,updateData:e.props.updateData})})))}}]),t}(U.a.PureComponent),Ne=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).loadHistory=function(e){var t=window.localStorage.getItem(e);if(null===t)return!1;var n=JSON.parse(t);return a.props.updateConfig(n.config),a.props.updateData(n.data),!0},a.toggleHistory=function(){a.setState(function(e){return{showHistory:!e.showHistory}})},a.state={showHistory:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement(ne,{className:"History",collapsedData:U.a.createElement(U.a.Fragment,null,this.props.history.length," items in history"),isToggled:this.state.showHistory,heading:"History",label:"History",onToggle:this.toggleHistory,tooltip:"Toggle history"},U.a.createElement(ye,{history:this.props.history,updateConfig:this.props.updateConfig,updateData:this.props.updateData}),U.a.createElement(ge,{clear:this.props.clearHistory}))}}]),t}(U.a.PureComponent),we=(a(75),a(76),a(77),a(78),function(e){if(0===e.data.length)return U.a.createElement("table",{className:e.className||""});var t=Object.keys(e.data[0]);return U.a.createElement("table",{className:e.className||""},U.a.createElement("thead",null,t.map(function(e,t){return U.a.createElement("th",{key:"header_".concat(t)},e)})),U.a.createElement("tbody",null,e.data.map(function(e,a){return U.a.createElement("tr",{key:"tr_".concat(a)},t.map(function(t,n){return U.a.createElement("td",{key:"tr_".concat(a,"_").concat(n),"data-label":t},e[t])}))})))}),be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).parse=function(e){return S(e)?U.a.createElement("span",{className:"header-value header-number"},e):O(e)?U.a.createElement("span",{className:"header-value header-date"},e):T(e)?U.a.createElement("span",{className:"header-value header-url"},U.a.createElement("a",{href:e},e)):k(e)?U.a.createElement("span",{className:"header-value header-boolean"},e):U.a.createElement("span",{className:"header-value header-string"},e)},a.toggleHeaders=function(){a.setState(function(e){return{showHeaders:!e.showHeaders}})},a.state={showHeaders:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=Array.from(this.props.headers.keys());return U.a.createElement(ne,{className:"ResponseHeaders",isToggled:this.state.showHeaders,heading:"Response Headers",label:"Headers",onToggle:this.toggleHeaders},U.a.createElement(we,{className:"u-max-full-width ResponseHeadersTable",data:t.map(function(t){return{Header:e.parse(t),Value:e.parse(e.props.headers.get(t)||"")}})}))}}]),t}(U.a.PureComponent),Ce=(a(79),a(24)),Se=a.n(Ce),Oe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleJson=function(){a.setState(function(e){return{showJson:!e.showJson}})},a.replacer=function(e,t,a,n,r){var s={end:r,indent:t,key:a,value:n},o="json-value",l=c.STRING;return void 0!==s.value&&null!==s.value&&(S(s.value)?(o="json-number",l=c.NUMBER):O(s.value)?(o="json-date",l=c.DATE):k(s.value)?(o="json-boolean",l=c.BOOLEAN):T(s.value)?(o="json-url",l=c.URL):(o="json-string",l=c.STRING)),Se.a.renderToString(U.a.createElement(U.a.Fragment,null,"\xa0".repeat(s.indent.length),s.key&&U.a.createElement("span",{className:"json-key"}," ",s.key," "),s.value&&U.a.createElement("span",{className:o},l===c.URL?U.a.createElement("a",{href:s.value.replace(y.quotes,"")},s.value):s.value),s.end&&U.a.createElement("span",{className:"json-key"}," ",s.end," "),U.a.createElement("br",null)))},a.state={response:JSON.stringify(e.data,null,3).replace(y.jsonData,a.replacer),showJson:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement(ne,{isToggled:this.state.showJson,heading:"JSON Response",label:"Data",onToggle:this.toggleJson},U.a.createElement("div",{className:"ResponseJson",dangerouslySetInnerHTML:{__html:this.state.response}}))}}]),t}(U.a.PureComponent),ke=(a(81),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleRaw=function(){a.setState(function(e){return{showRaw:!e.showRaw}})},a.state={showRaw:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement(ne,{isToggled:this.state.showRaw,heading:"Raw Response",label:"Raw",onToggle:this.toggleRaw},U.a.createElement("div",{className:"ResponseRaw"},this.props.data))}}]),t}(U.a.PureComponent)),Te=function(e){var t={};try{t=JSON.parse(e.data)}catch(a){t={}}return U.a.createElement("div",{className:"FetchResponse"},U.a.createElement(be,{headers:e.headers}),U.a.createElement(ke,{data:e.data}),U.a.createElement(Oe,{data:t}))},Pe=(a(82),function(e){return U.a.createElement("div",{className:(e.className||"")+" LoadingContainer"},U.a.createElement("div",{className:"Loading"},U.a.createElement("div",null)),U.a.createElement("div",null,"Loading"))}),De=(a(83),function(e){return U.a.createElement("div",{className:(e.className||"")+" Notice"},U.a.createElement("h4",null," ",e.heading," "),U.a.createElement(U.a.Fragment,null,e.children))}),je=(a(84),a(85),function(e){return U.a.createElement(M,{className:e.className||"",isPrimary:e.isPrimary||!1,label:e.label,onClick:function(){window.confirm(e.message)?e.onConfirm():e.onCancel()}})}),xe=(a(86),function(e){var t=e.isChecked?e.isCheckedLabel||e.label:e.isNotCheckedLabel||e.label;return U.a.createElement("div",{className:e.className||""},U.a.createElement(Y,{id:e.id||"",isChecked:e.isChecked,isDisabled:e.isDisabled||!1,name:e.name||"",onChangeRaw:function(t){e.onChange(t.target.checked)},type:l.CHECKBOX,value:e.value||""}),U.a.createElement("span",null," ",t," "))}),Re=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).toggleProxySettings=function(){a.setState(function(e){return{showProxySettings:!e.showProxySettings}})},a.onUpdateProxyUrl=function(e){a.props.onUpdateProxy({isEnabled:a.props.proxy.isEnabled,url:e})},a.onUpdateProxyEnabled=function(e){a.props.onUpdateProxy({isEnabled:e,url:a.props.proxy.url})},a.state={showProxySettings:!1},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return U.a.createElement(U.a.Fragment,null,U.a.createElement(ne,{className:"Proxy",collapsedData:U.a.createElement(U.a.Fragment,null,this.props.proxy.isEnabled?U.a.createElement(U.a.Fragment,null,"Proxy [",U.a.createElement("strong",null,"enabled"),"] through [",U.a.createElement("a",{href:this.props.proxy.url},this.props.proxy.url),"]"):U.a.createElement(U.a.Fragment,null,"Proxy [",U.a.createElement("strong",null,"disabled"),"]")),isToggled:this.state.showProxySettings,heading:"Proxy Settings",label:"Proxy Settings",tooltip:"Toggle proxy settings",onToggle:this.toggleProxySettings},U.a.createElement("div",{className:"row"},U.a.createElement(De,{className:"u-full-width",heading:"Proxy Overview"},"Requests are proxied through a copy of cors-anywhere ",U.a.createElement("br",null),"This is hosted on: ",U.a.createElement("a",{href:v},v)," ",U.a.createElement("br",null),"You can find the code for this at"," ",U.a.createElement("a",{href:"https://github.com/Mattamorphic/curlify/tree/proxy"},"GitHub")," ",U.a.createElement("br",null),"If you'd like to use your own proxy, simply replace the URL"," ",U.a.createElement("br",null),"This should follow cors-anywhere entry design ",U.a.createElement("br",null),"This proxy forwards request, gets around the cors issue, and allows us to return headers ",U.a.createElement("br",null),"No data is recorded in the proxy")),U.a.createElement("div",{className:"row"},U.a.createElement(Y,{className:"six columns u-full-width",isDisabled:!this.props.proxy.isEnabled,onChange:this.onUpdateProxyUrl,placeholder:"Proxy Url",type:l.URL,value:this.props.proxy.url}),U.a.createElement(xe,{className:"checkbox six columns u-full-width",isChecked:this.props.proxy.isEnabled,isCheckedLabel:"Proxy is enabled",isNotCheckedLabel:"Proxy is not enabled",onChange:this.onUpdateProxyEnabled,value:"proxy"}))))}}]),t}(U.a.PureComponent),Le=function(e){var t=e.onRequest;return U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"Request"},U.a.createElement(Re,{onUpdateProxy:e.onUpdateProxy,proxy:e.proxy}),e.shouldConfirm?U.a.createElement(je,{className:"u-full-width",label:"Test",message:"Are you sure?",onCancel:function(){},onConfirm:t}):U.a.createElement(M,{className:"u-full-width",isPrimary:!1,label:"Test",onClick:e.onRequest})))},He=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).baseState=void 0,a.getDestination=function(){var e=a.props.config.domain+a.props.config.endpoint+L(a.props.config.queryParams);return a.props.proxy.isEnabled?a.props.proxy.url+e:e},a.getFetchData=function(){var e={body:null,headers:new Headers(a.props.config.headers.map(function(e){return[e.key,e.value]})),method:a.props.config.method};return E(a.props.config.method)&&(e.body=JSON.stringify(a.props.data.data[a.props.data.type])),e},a.onTest=Object(F.a)(q.a.mark(function e(){return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({hasRun:!0,isLoading:!0,response:{}},Object(F.a)(q.a.mark(function e(){var t,n,r;return q.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URL(a.getDestination()),n=null,r=null,e.prev=3,e.next=6,fetch(t.href,a.getFetchData());case 6:return r=e.sent,e.next=9,r.text();case 9:n=e.sent,a.setState({isLoading:!1,response:{data:n,destination:t,headers:r.headers,status:r.status}}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),a.setState({isLoading:!1});case 16:return e.prev=16,a.props.addToHistory(a.props.config,a.props.data,r?r.status:0),e.finish(16);case 19:case"end":return e.stop()}},e,null,[[3,13,16,19]])})));case 1:case"end":return e.stop()}},e)})),a.state={hasRun:!1,isLoading:!1,response:{}},a.baseState=a.state,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t,a;t=e.proxy,a=this.props.proxy,(t.isEnabled!==a.isEnabled||t.url!==a.url)&&this.setState(this.baseState)}},{key:"render",value:function(){if(!this.props.validation.success)return U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:"Test Disabled"},this.props.validation.message.map(function(e,t){return U.a.createElement("label",{key:"validation_".concat(t)}," ",e," ")})));if(this.state.isLoading)return U.a.createElement("div",{className:"row"},U.a.createElement(Pe,null));var e="".concat(this.props.proxy.isEnabled?"through Proxy":""," to ").concat(this.state.response.destination||this.getDestination());return U.a.createElement(U.a.Fragment,null,U.a.createElement(Le,{hasRun:this.state.hasRun,onRequest:this.onTest,onUpdateProxy:this.props.updateProxy,proxy:this.props.proxy,shouldConfirm:!1}),this.state.hasRun&&(this.state.response.headers&&this.state.response.data?U.a.createElement(U.a.Fragment,null,U.a.createElement("div",{className:"row"},U.a.createElement(De,{className:"twelve columns u-full-width",heading:"Request complete"},"Request sent ",e)),U.a.createElement("div",{className:"row"},U.a.createElement(Te,{data:this.state.response.data,headers:this.state.response.headers}))):U.a.createElement("div",{className:"row"},U.a.createElement(De,{className:"twelve columns u-full-width",heading:"Request Failed"},"Request couldn't be sent ",e))))}}]),t}(U.a.PureComponent),Ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).isStorageAvailable=!1,a.addToHistory=function(e,t,n){a.setState(function(a){return D(e,t,n),{history:j()}})},a.clearHistory=function(){x(),a.setState({history:[]})},a.onConfigChange=function(e){a.setState({config:{domain:e.domain,endpoint:e.endpoint,headers:e.headers.map(function(e){return e}),method:e.method,queryParams:e.queryParams.map(function(e){return e}),urlString:e.urlString}},function(){return a.setState({validation:a.validatePayload()})})},a.onDataChange=function(e){a.setState({data:e},function(){return a.setState({validation:a.validatePayload()})})},a.onProxyChange=function(e){a.setState({proxy:e})},a.validatePayload=function(){var e={message:[],success:!0};return N(a.state.config.method)||(e.message.push("Invalid ".concat(a.state.config.method,", check settings above")),e.success=!1),b(a.state.config.headers)||(e.message.push("Invalid headers, check settings above"),e.success=!1),w(a.state.config.domain,a.state.config.endpoint)||(e.message.push("Invalid URL ".concat(a.state.config.domain," or ").concat(a.state.config.endpoint,", check settings above")),e.success=!1),a.state.data.type!==s.GQL||C(a.state.data.data.graphQL.query)||(e.message.push("Invalid GraphQL string, check settings above"),e.success=!1),e},a.state={config:{domain:"https://api.github.com",endpoint:"/users/octocat",headers:[],method:n.GET,queryParams:[],urlString:"https://api.github.com/users/octocat"},data:{data:{form:null,graphQL:{query:"query {viewer {username}}"},json:{test:"value"}},type:s.JSON},history:j(),output:{type:o.CURL},proxy:{isEnabled:!0,url:v},validation:{message:[],success:!0}},a.isStorageAvailable=P(),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=E(this.state.config.method);return U.a.createElement("div",{className:"container App"},U.a.createElement("div",{className:"row"},U.a.createElement(I,{imageSrc:"/curlify/images/banner.png"})),U.a.createElement("div",{className:"row"},U.a.createElement(ce,{data:this.state.config,updateConfig:this.onConfigChange})),U.a.createElement("div",{className:"row"},U.a.createElement("div",{className:e?i.SIX:i.TWELVE},U.a.createElement(Z,{className:"u-full-width",config:this.state.config,data:this.state.data,output:this.state.output.type,updateConfig:this.onConfigChange,updateData:this.onDataChange})),e&&U.a.createElement("div",{className:"six columns"},U.a.createElement(fe,{className:"u-full-width",data:this.state.data,updateData:this.onDataChange}))),this.isStorageAvailable&&U.a.createElement("div",{className:"row"},U.a.createElement(Ne,{clearHistory:this.clearHistory,history:this.state.history,updateConfig:this.onConfigChange,updateData:this.onDataChange})),U.a.createElement("div",{className:"row"},U.a.createElement(He,{addToHistory:this.addToHistory,config:this.state.config,data:this.state.data,proxy:this.state.proxy,updateConfig:this.onConfigChange,updateData:this.onDataChange,updateProxy:this.onProxyChange,validation:this.state.validation})))}}]),t}(U.a.Component),Ie=a(17);a.n(Ie).a.render(U.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[26,1,2]]]);
//# sourceMappingURL=main.ee6631ad.chunk.js.map